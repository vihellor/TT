<!DOCTYPE html>
<html>
<head>
  <title></title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="./../style/w3.css">
  <link rel="stylesheet" href="./../style/bubles.css">
  <link rel="stylesheet" href="./../style/css?family=Raleway">
  <style type="text/css">a { cursor: pointer; }</style>
  <script src="./scripts/ajax.js"></script>
</head>
<body class="wrapper">
<div>
  <ul class="bg-bubbles">
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
    <li></li>
  </ul>

  <div class="w3-bar w3-top w3-black w3-large" style="z-index:4">
  <span class="w3-bar-item w3-right">TTI 1.0</span>
</div>



<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<!-- !PAGE CONTENT! -->
<div class="w3-main" style="margin-top:43px;">

  <div class="w3-panel" style="text-align: center;">
    <div>
      <br>
      <br>
      <div class="flexContainer2">
      <div class="w3-card-4">
        <header class="w3-cell-row">
          <div id="l1" class="w3-half w3-container w3-light-gray w3-cell">
            <a onclick="openLink(event, 'login')"><h2>Login</h2></a>
        
      </div>
      
      <div id="l2" class="w3-half w3-container w3-green w3-cell">
        <a style="height: 100%; width: 100%; hover {cursor:pointer;}" onclick="openLink(event, 'registro')"><h2>Registro</h2></a>
      </div>
      
        </header>
        <div class="w3-container w3-light-gray">
          <div id="login" class="w3-animate-right flexContainer2 ">
            <form onsubmit="event.preventDefault(); handleFormSubmit(this,'login');">
              <p>
              <label class="w3-text-green w3-large"><b>Nickname</b></label>
              <input type="text" name="nickname" class="w3-input w3-border" required="true">
          <label class="w3-text-green w3-large"><b>Contraseña</b></label>
              <input type="password" name="contrasena" class="w3-input w3-border" required="true"></p>
          

          <input id="submitL" type="submit" class="w3-btn w3-green w3-xlarge" value="Continuar">
            </form>
          </div>
          <div id="registro" class="w3-animate-left flexContainer2 " style="display:none;">
            <form onsubmit="event.preventDefault(); validar(this,'registro');">
              <div class="w3-cell-row">
                <p>
                  <label class="w3-text-green w3-large"><b>Nickname</b></label>
                  <br>
                  <input type="text" name="nickname" class="w3-input w3-border" required="true">
                </p>
              </div>
          <div class="w3-cell-row">
            <div class="w3-container w3-cell w3-mobile">
              <p>
                  <label class="w3-text-green w3-large"><b>Nombre o Nombres</b></label>
                  <input type="text" name="name" class="w3-input w3-border" required="true">
            </p>
            </div>
            <div class="w3-container w3-cell w3-mobile">
              <p>
                  <label class="w3-text-green w3-large"><b>Apellido Paterno</b></label>
                  <input type="text" name="app" class="w3-input w3-border" required="true">
                </p>
            </div>
            <div class="w3-container w3-cell w3-mobile">
              <p>
                <label class="w3-text-green w3-large"><b>Apellido materno</b></label>
                  <input type="text" name="apm" class="w3-input w3-border" required="true">
              </p>
            </div>
          </div>
          <div class="w3-cell-row">
            <p>
                  <label class="w3-text-green w3-large"><b>Ocupación</b></label>
                  <br>
                  <input type="text" name="ocupacion" class="w3-input w3-border">
                </p>
          </div>
              <div class="w3-cell-row">
                <p>
                  <label class="w3-text-green w3-large"><b>Email</b></label>
                  <br>
                  <input type="email" name="email" class="w3-input w3-border" required="true">
                </p>
              </div>
              
              <div class="w3-cell-row">
            <div class="w3-container w3-cell w3-mobile">
              <p>
                  <label class="w3-text-green w3-large"><b>Contraseña</b></label>
                  <input type="password" name="password" class="w3-input w3-border" required="true">
            </p>
            </div>
            <div class="w3-container w3-cell w3-mobile">
              <p>
                  <label class="w3-text-green w3-large"><b>Confirmación Contraseña</b></label>
                  <input type="password" name="password2" class="w3-input w3-border" required="true">
                </p>
            </div>
          </div>

              <input id="submitR" type="submit" class="w3-btn w3-green w3-xlarge" value="Continuar">
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  </div>

  <!-- End page content -->
</div>
<script>
  document.getElementById('submitL').click();
  document.getElementById('submitR').click();

// Get the Sidebar
var login = document.getElementById("login");
// Get the DIV with overlay effect
var registro = document.getElementById("registro");
var l1 = document.getElementById("l1");
var l2 = document.getElementById("l2");

// Show the content
function validar(form,accion){
  var data = formToJSON(form.elements);
  //console.log(data['password'].localeCompare(data['password2']));
  if(data['password'].localeCompare(data['password2'])==0)
    handleFormSubmit(form,accion);
  else
    alert('Las contraseñas no coinciden.');
}
function openLink(evt, animName) {
  console.log(animName);
  if ("login".localeCompare(animName)) {
    login.style.display = "none";
    registro.style.display = "block";
    l1.className=l1.className.replace("w3-light-gray","w3-green");
    l2.className=l2.className.replace("w3-green", "w3-light-gray");

  }else{
    registro.style.display = "none";  
    login.style.display = "block";
    l2.className=l2.className.replace("w3-light-gray","w3-green");
    l1.className=l1.className.replace("w3-green", "w3-light-gray");
  }
}
</script>
</div>
</body>
</html>
